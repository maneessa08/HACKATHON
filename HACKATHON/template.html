
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Business Dashboard</title>

<!-- External css -->
<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="Style/template.css">
</head>

<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="logo-section">
                <img src="Image/optiviz.png" alt="Optiviz AI Logo">
                <span class="menu-icon" id="menu-toggle">&#9776;</span> <!-- Hamburger Menu Icon -->
            </div>
            <p class="section-title">General</p>
          <a href="#" class="menu-item"><i class="fas fa-chart-line"></i> <span>Dashboard</span></a>
        <p class="section-title">Account</p>
        <a href="#" class="menu-item"><i class="fas fa-cog"></i> <span>Settings</span></a>
        <a href="#" class="menu-item"><i class="fas fa-sign-out-alt"></i> <span>Logout</span></a>
        </aside>

        <!-- Main content -->
        <main class="main-content">
            <header class="header">
                <h2>Welcome back, <span id="username">User</span></h2>
                <div class="header-icons">
                    <span id="search-icon" title="Search"><i class="fas fa-search"></i></span>
                <span id="notify-icon" title="Notifications"><i class="fas fa-bell"></i></span>
                <span id="profile-icon" title="Profile"><i class="fas fa-user"></i></span>
                </div>
            </header>

            <section class="content" id="dynamic-content">
    <p><br>Welcome to your dashboard. Select a menu item to get started.</p>
</section>

<!-- Search Bar -->
       <div class="search-bar" id="search-bar">
    <input type="text" id="search-input" placeholder="Type and press Enter...">
</div>

        <!-- Dashboard Widgets -->
        <div class="dashboard-widgets">
            <div class="widget">
                <h3>AI Insights</h3>
                
            </div>
            <div class="widget">
                <h3>Quick Actions</h3>
                <button onclick="alert('Create Invoice')">Create Invoice</button>
                <button onclick="alert('Send Reminder')">Send Reminder</button>
            </div>
        </div>


            <!-- Real Calendar -->
            <div class="calendar-container">
                <div id="datepicker"></div>
            </div>
        </main>
    </div>

<!-- jQuery + jQuery UI -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

<script>
// Load real calendar
$(function() {
    $("#datepicker").datepicker();
});

// Username from localStorage
let loggedUser = localStorage.getItem("username");
if (!loggedUser) {
    loggedUser = "Guest";
    localStorage.setItem("username", loggedUser);
}
document.getElementById("username").textContent = loggedUser;
/*
// Icon functions
document.getElementById("search-icon").addEventListener("click", function() {
    let query = prompt("Enter your search query:");
    if (query) alert("You searched for: " + query);
});

document.getElementById("notify-icon").addEventListener("click", function() {
    alert("You have no new notifications.");
});

document.getElementById("profile-icon").addEventListener("click", function() {
    window.location.href = "profile.html";
});*/
function loadContent(page) {
    $("#dynamic-content").html("<p>Loading...</p>");
    $.get(page, function(data) {
        $("#dynamic-content").html(data);
    }).fail(function() {
        $("#dynamic-content").html("<p>Error loading content.</p>");
    });
}

$("#notify-icon").click(function(){
    $("#dynamic-content").html("<p>Loading latest notifications...</p>");

    // Fetch sample JSON data
    $.get("https://jsonplaceholder.typicode.com/posts?_limit=3", function(data) {
        let html = "<h3>Latest Notifications</h3><ul>";
        data.forEach(function(item) {
            html += `<li><strong>${item.title}</strong><br>${item.body}</li>`;
        });
        html += "</ul>";
        $("#dynamic-content").html(html);
    }).fail(function() {
        $("#dynamic-content").html("<p>Unable to fetch notifications.</p>");
    });
});
//No external file â€” it dynamically loads based on login data.

$("#profile-icon").click(function(){
    $("#dynamic-content").html("<p>Loading profile...</p>");

    // Example: using stored username from localStorage
    let user = {
        name: localStorage.getItem("username") || "Guest User",
        email: "guest@example.com",
        role: "Business Owner"
    };

    let html = `
        <h3>Your Profile</h3>
        <p><strong>Name:</strong> ${user.name}</p>
        <p><strong>Email:</strong> ${user.email}</p>
        <p><strong>Role:</strong> ${user.role}</p>
    `;
    $("#dynamic-content").html(html);
});



$("#search-icon").click(function(){
    $("#search-bar").slideToggle();
    $("#search-input").focus();
});

$("#search-input").on("keypress", function(e){
    if(e.which == 13) { // Enter key
        alert("Searching for: " + $(this).val());
        $(this).val("");
    }
});


// Sidebar toggle
document.getElementById("menu-toggle").addEventListener("click", function() {
    document.getElementById("sidebar").classList.toggle("collapsed");
});
</script>
</body>
</html>

